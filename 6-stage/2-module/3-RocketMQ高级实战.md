第三部分 RocketMQ高级实战

# 1 生产者

## 1.1 Tags的使用

一个应用尽可能用一个Topic







## 1.2 Keys的使用



## 1.3 日志的打印



## 1.4 消息发送失败处理方式



## 1.5 选择oneway形式发送



# 2 消费者

## 2.1 消费过程幂等

## 2.2 消费速度慢的处理方式

## 2.3 优化每条消息消费过程

## 2.4 消费打印日志

## 2.5 其他消费建议

# 3 Broker

## 3.1 Broker角色

## 3.2 FlushDiskType

## 3.3 Broker配置

# 4 NameServer

# 5 客户端配置

## 5.1 客户端寻址方式

## 5.2 客户端的公共配置

## 5.3 Producer配置

## 5.4 PushConsumer配置

## 5.5 PullConsumer配置

## 5.6 Message数据结构

# 6 系统配置

## 6.1 JVM选项

## 6.2 Linux内核参数

# 7 动态扩缩容

## 7.1 动态增减Namesrv机器

## 7.2 动态增减Broker机器

# 8 各种故障对消息的影响

