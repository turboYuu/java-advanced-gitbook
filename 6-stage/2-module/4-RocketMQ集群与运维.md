第四部分 RocketMQ集群与运维

# 1 集群搭建方式

## 1.1 集群特点

## 1.2 集群模式

### 1.2.1 单Master模式

### 1.2.2 多Master模式

### 1.2.3 多master多Slave模式（异步）

### 1.2.4 多master多Slave模式（同步）

# 2 集群的搭建

## 2.0 前置配置

## 2.1 单Master模式

### 2.1.1 启动NameServer

### 2.1.2 启动Broker

## 2.2 多Master模式

### 2.2.1 启动NameServer

### 2.2.2 启动Broker集群



## 2.3 多Master和Slave模式-异步复制

### 2.3.1 启动NameServer

### 2.3.2 启动Broker集群

## 2.4 多Master和Slave模式-同步双写

### 2.4.1 启动NameServer

### 2.4.2 启动Broker集群

# 3 mqadmin管理工具

## 3.1 Topic相关

### 3.1.1 命令列表

### 3.1.2 具体操作

## 3.2 集群相关

### 3.2.1 命令列表

### 3.2.2 具体操作

## 3.3 Broker相关

### 3.3.1 命令列表

### 3.3.2 具体列表



## 3.4 消息相关

### 3.4.1 命令列表

### 3.4.2 具体列表

## 3.5 消费者，消费组相关

### 3.5.1 命令列表

### 3.5.2 具体列表

## 3.6 连接相关

### 3.6.1 命令列表

### 3.6.2 具体列表

## 3.7 Nameserver相关

### 3.7.1 命令列表

### 3.7.2 具体列表

## 3.8 其他

### 3.8.1 命令列表

### 3.8.2 具体列表

# 4 运维常见问题

## 4.1 RocketMQ的mqadmin命令报错问题

## 4.2 RocketMQ生产端和消费端版本不一致导致不能正常消费的问题

## 4.3 新增一个topic的消费组时，无法消费历史消息的问题

## 4.4 如何从Slave读数据功能

## 4.5 性能调优问题

## 4.6 在RocketMQ中msgId和offsetMsgId的含义与区别