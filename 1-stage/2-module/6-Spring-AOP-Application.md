第六部分 Spring AOP 应用

> AOP本质：在不改变原有业务逻辑的情况下增强横切逻辑，横切逻辑代码往往是权限检验，日子代码，事务控制代码，性能监控代码。

# 1 AOP 相关术语

## 1.1 业务主线

在讲解AOP之前，我们先看一下下面这两张图，它们就是该部分案例需求的扩展（针对这些扩展的需求，我们只进行分析，在此基础上）

![image-20220402181130552](assest/image-20220402181130552.png)

上图描述的就是未采用 AOP 思想设计的程序，当我们红色框中圈定的方法时，会带来大量的重复劳动。程序中充斥着大量的重复代码，使我们程序的独立性很差。而下图中是采用了AOP思想设计的程序，它把红框部分的代码抽取出来的同时，运用动态代理技术，在运行期对需要使用的业务逻辑方法进行增强。

![image-20220402183954632](assest/image-20220402183954632.png)

## 1.2 AOP 术语

| 名称              | 解释                                                         |
| ----------------- | ------------------------------------------------------------ |
| JoinPoint(连接点) | 指的是那些**可以**用于把增强代码加入到业务主线中的点，<br>那么由上图中我们可以看出，这些点指的就是方法。<br>在方法执行的前后通过动态代理技术加入增强的代码。<br>在Spring框架AOP思想的技术实现中，也只支持方法类型的连接点。 |
| Pointcut(切入点)  | 指的是那些**已经**把增强代码写入到业务主线进来之后的连接点。<br> |
| Advice(通知/增强) |                                                              |
| Target(目标)      |                                                              |
| Proxy(代理)       |                                                              |
| Weaving(织入)     |                                                              |
| Aspect(切面)      |                                                              |



# 2 Spring 中AOP的代理选择

# 3 Spring中AOP的配置方式

# 4 Spring中AOP实现

# 5 Spring 声明式事务支持