> 第一部分 自定义持久层框架

# 1 分析 JDBC 操作问题



JDBC 问题总结：

原始 jdbc 开发存在的问题如下：

1. 数据库连接创建，释放频繁 造成系统资源浪费，从而影响系统性能。
2. Sql 语句在代码中存在硬编码，造成代理不易维护，实际应用中 sql 变化的可能较大，sql变动需要改变 java 代码。
3. 使用 preparedStatement 向占位符传参数存在硬编码，因为 sql 语句的 where 条件不一定，可能多也可能少，修改 sql 还要修改代码，系统不易维护。
4. 对结果解析存在硬编码（查询列名），sql 变化导致解析代码变化，系统不易维护，如果能够将数据库记录封装成 pojo 对象解析比较方便

# 2 问题解决思路

1. 使用数据库连接池初始化连接资源
2. 将 sql 语句抽取到 xml 配置文件中
3. 使用反射、内省 等底层技术，自动将实体与表进行属性与字段的自动映射

# 3 自定义框架设计

## 3.1 使用端

## 3.2 框架端

# 4 自定义框架实现

# 5 自定义框架优化

